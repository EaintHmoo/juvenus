import{a4 as L,r as o,j as t,t as D,S as v,O as G,L as f,T as a,y as T,C as E,z as I,D as H,E as M,F as W,G as q,H as z,J as F,M as J,N as K,ah as s,A as h}from"./index-019ce5a6.js";import{O as Q,a as U}from"./table-head-0d0ba1ef.js";function Z(){const{id:d}=L(),[l,x]=o.useState([]),[g,V]=o.useState(!1),[S,C]=o.useState(null),[m,A]=o.useState([]),[u,j]=o.useState([]),[n,O]=o.useState(null),N=async()=>{var i,r,c,b,_,y,p;const e=await h.GetOutstandingListsDetail("",d);e.code===200&&(x((i=e==null?void 0:e.data)==null?void 0:i.data),j((c=(r=e==null?void 0:e.data)==null?void 0:r.data)==null?void 0:c.pagination),C(((_=(b=e==null?void 0:e.data)==null?void 0:b.data[0])==null?void 0:_.sale_transaction_note)||""),A((p=(y=e==null?void 0:e.data)==null?void 0:y.data[0])==null?void 0:p.sale_transaction_info))},P=async()=>{const e=await h.GetTransactionDetailOutstanding(d);e.code===200&&O(e==null?void 0:e.data)},w=async(e,i)=>{var c;const r=await h.GetOutstandingLists(i,"","");x(r==null?void 0:r.data.data),j((c=r==null?void 0:r.data)==null?void 0:c.pagination)},B=()=>{window.history.back()},k=[{id:"id",label:"No",align:"center"},{id:"voucher",label:"TransactionId",align:"center"},{id:"customer",label:"Customer",align:"center"},{id:"phone_no",label:"Phone Number",align:"center"},{id:"status",label:"Status",align:"center"},{id:"total_credit_amount",label:"Total Credit Amount",align:"center"},{id:"settlement_amount",label:"Settlement Amount",align:"center"},{id:"remaining_credit_amount",label:"Remaining Credit Amount",align:"center"},{id:"created_at",label:"Date",align:"center"},{id:"action",label:"Action",align:"center"}];return o.useEffect(()=>{N(),P()},[]),t.jsxs(D,{maxWidth:"lg",children:[t.jsxs(v,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[t.jsxs(G,{"aria-label":"breadcrumb",children:[t.jsx(f,{underline:"hover",color:"inherit",to:"/dashboard",children:"Dashbaord"}),t.jsx(f,{underline:"hover",color:"inherit",to:"/customer/outstanding/list",children:"Outstanding"}),t.jsx(a,{color:"text.primary",children:"Detail"})]}),t.jsxs(v,{direction:"row",spacing:2,children:[t.jsx(T,{variant:"contained",color:"primary",onClick:B,children:"Back"}),t.jsx(T,{variant:"outlined",color:"secondary",onClick:()=>{alert("Print Method")},children:"Print"})]})]}),t.jsxs(E,{children:[g&&t.jsx(I,{color:"secondary"}),t.jsx(H,{children:t.jsx(M,{sx:{overflow:"unset"},children:t.jsxs(W,{sx:{minWidth:1e3},children:[t.jsx(Q,{headLabel:k}),t.jsx(q,{children:l?l==null?void 0:l.map((e,i)=>t.jsx(U,{isDetail:d,no:e.id,id:i+1,voucher:e.voucher,customer:e.customer,customer_id:e.customer_id,phone_no:e.phone,status:e.status,total_credit_amount:e.total_credit_amount,settlement_amount:e.settlement_amount,remaining_credit_amount:e.remaining_credit_amount,created_at:e.created_at},e.id)):!g&&t.jsx(z,{query:"Outstanding"})})]})})}),u&&t.jsx(F,{sx:{float:"right"},count:u.total_page,page:u.page,onChange:w})]}),t.jsx(J,{position:K,autoClose:1500}),t.jsxs(s,{container:!0,spacing:3,sx:{marginTop:"20px",background:"#ffffff",padding:"20px"},children:[t.jsxs(s,{item:!0,xs:12,sm:6,children:[t.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Total Credit Amount"}),t.jsx(a,{variant:"body1",color:"textSecondary",children:(n==null?void 0:n.total_credit_amount)||"No Received Amount"})]}),t.jsxs(s,{item:!0,xs:12,sm:6,children:[t.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Remaining Credit Amount"}),t.jsx(a,{variant:"body1",color:"textSecondary",children:(n==null?void 0:n.total_remaining_credit_amount)||"No Remaing Amount"})]}),t.jsxs(s,{item:!0,xs:12,sm:6,children:[t.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Total Settlement Amount"}),t.jsx(a,{variant:"body1",color:"textSecondary",children:(n==null?void 0:n.total_settlement_amount)||"No Settlement Amount"})]}),t.jsxs(s,{item:!0,xs:12,sm:6,children:[t.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Tax Amount"}),t.jsx(a,{variant:"body1",color:"textSecondary",children:(m==null?void 0:m.tax)||"No Tax Amount"})]}),t.jsxs(s,{item:!0,xs:12,children:[t.jsx(a,{variant:"h4",component:"h1",gutterBottom:!0,children:"Note"}),t.jsx(a,{variant:"body1",color:"textSecondary",children:S||"No note available."})]})]})]})}export{Z as default};
