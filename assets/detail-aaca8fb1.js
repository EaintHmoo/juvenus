import{a4 as S,r as n,j as e,V as k,t as f,S as y,O as D,ag as C,T as c,C as T,an as u,E as _,F as R,G as w,aa as B,ab as p,L as P,y as O,a3 as L,M as N,N as E,A as m,Q as h,W as I}from"./index-019ce5a6.js";import"./table-head-98595357.js";import{A as F}from"./approve-dialog-1c59e89c.js";const o=s=>s!=null?new Date(s).toLocaleDateString("en-US",{hour:"numeric",minute:"numeric"}):void 0,M=()=>{const{id:s}=S(),[a,j]=n.useState({}),[x,r]=n.useState(!1),[l,i]=n.useState(!1),d=async()=>{const t=await m.GetStockAdjustment(s);t.code===200&&j(t.data)},v=async()=>{r(!1),i(!0);const t=await m.ApproveStockAdjustment(s);t.code===200?(h.success(t.message,{theme:"colored"}),setTimeout(()=>{d(),i(!1)},2e3)):(h.error(t.message),setTimeout(()=>{i(!1)},2e3))},A=()=>{r(!0)};n.useEffect(()=>{d()},[]);const g=[{name:"Shop Name",value:a.shop_code},{name:"Product Name",value:a.product_name},{name:"Quantity",value:a.type+a.qty},{name:"Date",value:o(a.created_at)},{name:"Responsible Person",value:a.responsible_person},{name:"Reason",value:a.reason},{name:"Status",value:e.jsx(k,{label:a.status,sx:{textTransform:"capitalize"},color:a.status=="pending"?"warning":"success"})},{name:"Created By",value:a.created_user},{name:"Created At",value:o(a.created_at)},{name:"Updated By",value:a.updated_user},{name:"Updated At",value:o(a.updated_at)},{name:"Approved By",value:a.approved_user},{name:"Approved At",value:o(a.approved_at)}];return e.jsxs(f,{maxWidth:"xl",children:[e.jsx(y,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:e.jsxs(D,{"aria-label":"breadcrumb",children:[e.jsx(C,{variant:"h4",underline:"hover",color:"inherit",href:"/stock-adjustments",children:"Stock Adjustment Management"}),e.jsx(c,{variant:"h4",children:"Stock Adjustment Detail"})]})}),e.jsxs(T,{sx:{padding:"1rem"},children:[e.jsxs(u,{sx:{mt:"0.5rem"},children:[e.jsx(c,{variant:"h5",children:"Stock Detail"}),e.jsx(_,{children:e.jsx(R,{sx:{minWidth:650},children:e.jsx(w,{children:g.map((t,b)=>e.jsxs(B,{children:[e.jsx(p,{component:"th",scope:"row",children:t.name}),e.jsx(p,{children:t.value})]},b))})})})]}),e.jsxs(u,{sx:{pb:3,display:"flex",mt:2,float:"right"},children:[e.jsx(P,{underline:"hover",color:"primary",to:"/stock-adjustments",children:e.jsx(O,{variant:"outlined",color:"primary",sx:{borderRadius:1,marginRight:1},children:"Cancel"})}),a.status!=="approved"&&e.jsx(L,{type:"button",size:"medium",variant:"contained",onClick:A,loading:l,sx:{borderRadius:1},children:"Approve"})]})]}),e.jsx(F,{openDialog:x,setOpenDialog:r,handleApprove:v,disabled:l}),e.jsx(N,{position:E,autoClose:1500})]})},G=()=>e.jsxs(e.Fragment,{children:[e.jsx(I,{children:e.jsx("title",{children:" Juvenus POS | Stock Adjustment "})}),e.jsx(M,{})]});export{G as default};
