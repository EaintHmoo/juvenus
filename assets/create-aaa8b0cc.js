import{w as M,aI as N,r as s,j as t,t as T,S as q,O as z,L as c,y as g,C as J,B as j,Z as b,Y as p,aj as Q,$ as Y,a0 as Z,a2 as $,a3 as H,M as K,N as X,A as r,Q as P,W as V}from"./index-019ce5a6.js";function ee(){const f=M(),S=N(),{owner_id:C,pos_treatment_name:te,transaction_id:k,pos_treatment_id:n}=S.state||{},[v,d]=s.useState(!1),[se,y]=s.useState([]),[_,u]=s.useState(n),[l,w]=s.useState([]),[m,h]=s.useState(null);s.useState(null),s.useState(null),s.useState(null),s.useState(null),s.useState(null);const[a,I]=s.useState(null),[x,L]=s.useState([]),[ae,B]=s.useState(null),D=async()=>{const e=await r.GetAllCustomerPackageList();y(e==null?void 0:e.data)},G=async()=>{const e=await r.GetCustomerLists();w(e==null?void 0:e.data)},U=async()=>{const e=await r.GetCustomerDetail(C);I(e==null?void 0:e.data)},A=async()=>{const e=await r.GetPosPackageProduct();L(e==null?void 0:e.data)},O=async()=>{const e=await r.GetPosProduct(n);B(e==null?void 0:e.data)};s.useEffect(()=>{D(),G(),U(),A(),O()},[]),console.log(">>>>>>>>>>>>"),console.log(l),console.log(a);const R=async e=>{e.preventDefault();const o={user_package_id:_,share_user_id:m,owner_id:a==null?void 0:a.id,transaction_id:k};d(!0);const i=await r.SharePackage(o);i.code===200?(P.success(i.message,{theme:"colored"}),setTimeout(()=>f("/customer/packages/list"),2e3)):(d(!1),P.error(i.message))},W=()=>{window.history.back()},E=(e,o)=>{h(o?e.target.value:null)},F=(e,o)=>{u(o?o.id:null)};return t.jsxs(T,{maxWidth:"lg",children:[t.jsxs(q,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[t.jsxs(z,{"aria-label":"breadcrumb",children:[t.jsx(c,{underline:"hover",color:"inherit",to:"/dashboard",children:"Dashbaord"}),t.jsx(c,{underline:"hover",color:"inherit",to:"/users",children:"Share Package"})]}),t.jsx(g,{variant:"contained",color:"primary",onClick:()=>W(),children:"Back"})]}),t.jsx(J,{children:t.jsx(j,{sx:{p:4},children:t.jsxs("form",{onSubmit:R,children:[t.jsxs(b,{fullWidth:!0,sx:{mb:3},children:[t.jsx(p,{sx:{mb:3},value:a==null?void 0:a.name,disabled:!0}),t.jsx(Q,{disablePortal:!0,options:x,getOptionLabel:e=>e.product_name,value:x.find(e=>e.id===n)||null,onChange:F,renderInput:e=>t.jsx(p,{...e,label:"User Package"})})]}),t.jsxs(b,{fullWidth:!0,sx:{mb:3},children:[t.jsx(Y,{id:"demo-simple-select-label",children:"Select Share User *"}),t.jsx(Z,{name:"customer_id",labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:E,label:"Select Customer",required:!0,placeholder:"Share User",children:l&&l.map(e=>t.jsx($,{value:e.id,children:e.name},e.id))})]}),t.jsxs(j,{sx:{pb:3,display:"flex",mt:2,float:"right"},children:[t.jsx(c,{underline:"hover",color:"primary",to:"/customer/packages/list",children:t.jsx(g,{variant:"outlined",color:"primary",sx:{borderRadius:1,marginRight:1},children:"Cancel"})}),t.jsx(H,{type:"submit",size:"medium",variant:"contained",sx:{borderRadius:1},loading:v,children:"Share"})]})]})})}),t.jsx(K,{position:X,autoClose:1500})]})}function re(){return t.jsxs(t.Fragment,{children:[t.jsx(V,{children:t.jsx("title",{children:" Juvenus | Create Offset "})}),t.jsx(ee,{})]})}export{re as default};
