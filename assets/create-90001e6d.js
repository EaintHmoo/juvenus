import{w as D,r as o,A as m,j as e,t as E,S,O as U,L as c,T as q,C as R,B as t,R as x,V as N,X as P,Y as n,Z as g,$ as p,a0 as b,a1 as B,a2 as j,y as F,a3 as L,M,N as A,Q as f,W as O}from"./index-019ce5a6.js";import"./table-empty-rows-bf3b5365.js";function T(){const C=D(),[l,u]=o.useState({customer_code:"",name:"",nrc:"",phone_no:"",email:"",drug_illegy:"",date_of_birth:"",main_concern:"",medical_history:"",emergency_contact_name:"",emergency_contact_phone:"",relationship:"",gender:"Male",city_id:1,address:""}),[y,_]=o.useState([]),[v,h]=o.useState(!1);o.useEffect(()=>{w()},[]);const s=a=>{u({...l,[a.target.name]:a.target.value})},W=a=>{u({...l,photo:a}),console.log(l)},w=async()=>{const a=await m.getCity();console.log(a.data),_(a==null?void 0:a.data)},I=async a=>{a.preventDefault(),h(!0);const r=new FormData;Object.keys(l).forEach(function(d){l[d]!==""&&r.append(d,l[d])});const i=await m.CreateUser(r);console.log("send user is"),console.log(i),i.code===200?(f.success(i.message,{theme:"colored"}),setTimeout(()=>C("/users"),2e3)):(h(!1),f.error(i.message))};return e.jsxs(E,{maxWidth:"lg",children:[e.jsx(S,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:e.jsxs(U,{"aria-label":"breadcrumb",children:[e.jsx(c,{underline:"hover",color:"inherit",to:"/dashboard",children:"Dashbaord"}),e.jsx(c,{underline:"hover",color:"inherit",to:"/users",children:"User Management"}),e.jsx(q,{color:"text.primary",children:"Create"})]})}),e.jsx(R,{children:e.jsx(t,{sx:{p:4},children:e.jsxs("form",{onSubmit:I,children:[e.jsx(x,{sx:{mb:3},children:e.jsx(N,{label:"Upload Image",size:"small"})}),e.jsx(t,{children:e.jsx(P,{selectedImage:l.photo,handleChangeImage:W})}),e.jsx(x,{sx:{mb:3}}),e.jsxs(t,{sx:{mb:3,display:"flex",gap:2,height:""},children:[e.jsx(n,{name:"customer_code",id:"outlined-basic",fullWidth:!0,label:"Customer Code",variant:"outlined",onChange:s,required:!0}),e.jsx(n,{name:"name",id:"outlined-basic",fullWidth:!0,label:"Name",variant:"outlined",onChange:s,required:!0})]}),e.jsxs(t,{sx:{mb:3,display:"flex",gap:2},children:[e.jsx(n,{name:"phone_no",id:"outlined-basic",fullWidth:!0,label:"Phone",variant:"outlined",onChange:s,required:!0}),e.jsx(n,{type:"email",name:"email",id:"outlined-basic",fullWidth:!0,label:"Email",variant:"outlined",onChange:s})]}),e.jsxs(t,{sx:{mb:3,display:"flex",gap:2},children:[e.jsxs(g,{fullWidth:!0,children:[e.jsx(p,{id:"demo-simple-select-label",children:"Gender *"}),e.jsx(b,{name:"gender",labelId:"demo-simple-select-label",id:"demo-simple-select",onChange:s,label:"gender",placeholder:"Select Gender",value:l.gender,required:!0,children:Object.entries(B).map(([a,r])=>e.jsx(j,{value:r,children:r},a))})]}),e.jsx(n,{name:"nrc",label:"NRC",fullWidth:!0,value:l.nrc,onChange:s})]}),e.jsxs(t,{sx:{mb:3,display:"flex",gap:2},children:[e.jsx(n,{name:"drug_illegy",label:"Drug Allergy",fullWidth:!0,value:l.password_confirmation,onChange:s,required:!0}),e.jsx(n,{type:"date",name:"date_of_birth",label:"Date Of Brith",fullWidth:!0,value:l.password_confirmation,onChange:s,InputLabelProps:{shrink:!0}})]}),e.jsxs(t,{sx:{mb:3,display:"flex",gap:2},children:[e.jsx(n,{name:"main_concern",label:"Concern",fullWidth:!0,onChange:s}),e.jsx(n,{name:"medical_history",label:"Medical History",fullWidth:!0,value:l.password_confirmation,onChange:s})]}),e.jsxs(t,{sx:{mb:3,display:"flex",gap:2},children:[e.jsx(n,{name:"emergency_contact_name",label:"Emergency Contact Name",fullWidth:!0,onChange:s,required:!0}),e.jsx(n,{name:"emergency_contact_phone",label:"Emergency Contact Phone",fullWidth:!0,onChange:s,required:!0})]}),e.jsxs(t,{sx:{mb:3,display:"flex",gap:2},children:[e.jsx(n,{name:"relationship",label:"Relationship",fullWidth:!0,value:l.password_confirmation,onChange:s}),e.jsxs(g,{fullWidth:!0,children:[e.jsx(p,{id:"demo-simple-select-label",children:"City"}),e.jsx(b,{name:"city_id",labelId:"demo-simple-select-label",value:l.city_id,id:"demo-simple-select",onChange:s,label:"city",required:!0,children:y.map(a=>e.jsx(j,{value:a.id,children:a.city_name},a.id))})]})]}),e.jsx(t,{sx:{mb:3,display:"flex",gap:2},children:e.jsx(n,{name:"address",label:"Address",fullWidth:!0,onChange:s})}),e.jsxs(t,{sx:{pb:3,display:"flex",mt:2,float:"right"},children:[e.jsx(c,{underline:"hover",color:"primary",to:"/users",children:e.jsx(F,{variant:"outlined",color:"primary",sx:{borderRadius:1,marginRight:1},children:"Cancel"})}),e.jsx(L,{type:"submit",size:"medium",variant:"contained",sx:{borderRadius:1},loading:v,children:"Create"})]})]})})}),e.jsx(M,{position:A,autoClose:1500})]})}function z(){return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsx("title",{children:" Ngwe Zay | Create User "})}),e.jsx(T,{})]})}export{z as default};
