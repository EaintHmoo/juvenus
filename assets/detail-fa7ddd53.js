import{a4 as T,r as o,j as e,V as h,t as b,S as G,O as S,ag as _,T as c,C as y,an as d,E as x,F as j,G as u,aa as l,ab as a,am as w,L as A,y as D,M as I,N as P,A as m,W}from"./index-019ce5a6.js";import"./active-dialog-51e34dc3.js";import{T as B}from"./TableFooter-12fd2237.js";const g=t=>t!=null?new Date(t).toLocaleDateString("en-US"):void 0,L=t=>t!=null?new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):void 0,N=()=>{const{id:t}=T(),[i,p]=o.useState([]),[r,f]=o.useState(),v=async()=>{const n=await m.GetGiftCardTransaction(t),s=await m.GetGiftCard(t);n.code===200&&p(n==null?void 0:n.data),s.code===200&&f(s==null?void 0:s.data)};o.useEffect(()=>{v()},[]);const C=[{name:"Gift Card No",value:(r==null?void 0:r.card_number)||""},{name:"Amount",value:r==null?void 0:r.amount},{name:"Created By",value:r==null?void 0:r.created_user},{name:"Status",value:e.jsx(h,{label:r!=null&&r.is_active?"Active":"Inactive",sx:{textTransform:"capitalize"},color:r!=null&&r.is_active?"success":"error"})},{name:"Date",value:g(r==null?void 0:r.created_at)}];return e.jsxs(b,{maxWidth:"xl",children:[e.jsx(G,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:e.jsxs(S,{"aria-label":"breadcrumb",children:[e.jsx(_,{variant:"h4",underline:"hover",color:"inherit",href:"/gift-cards",children:"Gift Card Management"}),e.jsx(c,{variant:"h4",children:"Gift Card Detail"})]})}),e.jsxs(y,{sx:{padding:"1rem"},children:[e.jsxs(d,{sx:{mt:"0.5rem"},children:[e.jsx(c,{variant:"h5",children:"Gift Card Information"}),e.jsx(x,{children:e.jsx(j,{sx:{minWidth:650},children:e.jsx(u,{children:C.map((n,s)=>e.jsxs(l,{children:[e.jsx(a,{component:"th",scope:"row",children:n.name}),e.jsx(a,{children:n.value})]},s))})})})]}),e.jsxs(d,{sx:{mt:"1.5rem"},children:[e.jsx(c,{variant:"h5",children:"Transactions"}),e.jsx(x,{children:e.jsxs(j,{sx:{minWidth:650,mt:"1rem"},children:[e.jsx(w,{children:e.jsxs(l,{children:[e.jsx(a,{children:"#"}),e.jsx(a,{children:"Vouceher No"}),e.jsx(a,{children:"Date"}),e.jsx(a,{children:"Time"}),e.jsx(a,{align:"center",children:"Type"}),e.jsx(a,{align:"center",children:"Sale Person"}),e.jsx(a,{align:"right",children:"Total Amount"}),e.jsx(a,{align:"right",children:"Other Amount"}),e.jsx(a,{align:"right",children:"Gift Card Amount"}),e.jsx(a,{align:"center",children:"Status"})]})}),e.jsx(u,{children:i==null?void 0:i.map((n,s)=>e.jsxs(l,{children:[e.jsx(a,{component:"th",scope:"row",children:s+1}),e.jsx(a,{children:n.voucher_no??""}),e.jsx(a,{children:g(n.created_at)}),e.jsx(a,{align:"right",children:L(n.created_at)}),e.jsx(a,{align:"right",children:n.transaction_type||""}),e.jsx(a,{align:"right",children:n.sale_person||0}),e.jsx(a,{align:"right",children:n.total||0}),e.jsx(a,{align:"right",children:n.other_amount||0}),e.jsx(a,{align:"right",children:n.gift_card_amount||0}),e.jsx(a,{align:"center",children:e.jsx(h,{label:n.status||"",sx:{textTransform:"capitalize"},color:n.status=="Deleted"?"error":"success"})})]},s))}),e.jsx(B,{children:e.jsxs(l,{children:[e.jsx(a,{component:"th",align:"right",colSpan:8,scope:"row",sx:{fontSize:"14px",fontWeight:"bold"},children:"Total Gift Card Amount"}),e.jsx(a,{align:"right",sx:{fontSize:"14px",fontWeight:"bold"},children:i==null?void 0:i.reduce((n,s)=>n+parseInt((s==null?void 0:s.gift_card_amount)||0),0)}),e.jsx(a,{})]})})]})})]}),e.jsx(d,{sx:{pb:3,display:"flex",mt:2,float:"right"},children:e.jsx(A,{underline:"hover",color:"primary",to:"/gift-cards",children:e.jsx(D,{variant:"outlined",color:"primary",sx:{borderRadius:1,marginRight:1},children:"Cancel"})})})]}),e.jsx(I,{position:P,autoClose:1500})]})},E=()=>e.jsxs(e.Fragment,{children:[e.jsx(W,{children:e.jsx("title",{children:" Juvenus POS | Gift Card "})}),e.jsx(N,{})]});export{E as default};
